# ConsoleManager
Данный проект демонстрирует работу консольного менеджера. 
Менеджер позволяет быстро и легко внедрять консольный интерфейс в программы.
Под уже написанный класс или функцию можно создать класс-оболочку, который будет способен обрабатывать консольный ввод и вызывать необходимые методы или функции.

# Как использовать
## Класс-оболочка (класс консоли)
Класс-оболочка наследуется от абстрактного класса BasicConsole и должен реализовать метод _register_commands, в котором описываются и подключаются к консольному менеджеру команды и их параметры.
Для запуска необходимо вызвать у класса метод *run*.
## Команда (класс Command)
У класса команды есть поля **action**, **aliases**, **description**, **usage**, **print_result** и **params**
- **action** хранит ссылку на вызываемую функцию (можно ссылаться на метод в классе, над которым создан консольный класс-оболочка, можно реализовать метод в классе консоли и ссылаться на него, а можно заполнить поле **action** анонимной лямбда-функцией)
- **aliases** хранит "имена" команды, по которым она вызывается в консоли
- **description** содержит текстовое описание работы команды
- **usage** содержит лаконичное описание использования для пользователя, например: "sum \[param_1] ... \[param_N] \<int_1> ... \<int_N>"
- **print_result** указывает, нужно ли выводить результат работы функции на консоль
- **params** хранит словарь, ключами которого являются "имена" параметров (например, -p, -n, -sort), а значения - объекты класса Param

Метод *execute* вызывается из класса ConsoleManager и выполняет функцию из поля **action**.
## Параметр (класс Param)
Поля: **action**, **description**, **param_type**, **usage**, **arg_number**
- **action** хранит ссылку на вызываемую функцию
- **description** содержит текстовое описание работы параметра
- **param_type** указывает тип параметра для выстраивания корректной последовательности выполнения вместе с основной функцией команды
- **usage** содержит лаконичное описание использования для пользователя (например, "-lb \<lower bound>", "-b \<lower bound> \<upper bound>")
- **arg_number** хранит количество аргументов, которые необходимы параметру (захватываются из полученных аргументов)

## Тип параметра (класс ParamType)
Определено 4 типа параметра:
- **ARG_MODIFY** - если параметр модифицирует аргументы перед последующей передачей в основную функцию команды
- **RESULT_MODIFY** - параметр модифицирует результат работы основной функции
- **NO_MODIFY** - параметр не модифицирует ни аргументы, ни результат
- **LOGIC** - параметр осуществляет ветвление, "перехватывая" управление. Основная функция команды не выполняется

# Пример использования
В модуле *logic/console_superstructure* находится пример использования консольного менеджера, класс ConsoleMathFuncs.

ConsoleMathFuncs является "надстройкой" или классом-оболочкой для класса MathFuncs из модуля *logic* и содержит поле *original* со ссылкой на объект класса MathFuncs. В нём реализована команда *sum* со значением поля *action=self.original.sum_func*. Также добавлены некоторые параметры

Для тестирования примера нужно запустить файл *main.py* из корня проекта
