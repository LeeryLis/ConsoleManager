# ConsoleManager
Данный проект демонстрирует работу консольного менеджера. 
Менеджер позволяет быстро и легко внедрять консольный интерфейс в программы.
Под уже написанный класс или функцию можно создать класс-оболочку, который будет способен обрабатывать консольный ввод и вызывать необходимые методы или функции.

# Как использовать
## Класс-оболочка (класс консоли)
Класс-оболочка наследуется от абстрактного класса BasicConsole и должен реализовать метод _register_commands, в котором описываются и подключаются к консольному менеджеру команды и их параметры.
Для запуска необходимо вызвать у класса метод *run*.
## Команда (класс Command)
У класса команды есть обязательные поля **aliases**, **description** и **action**
- **aliases** хранит "имена" команды, по которым она вызывается в консоли
- **description** содержит текстовое описание работы команды
- **action** хранит ссылку на вызываемую функцию (можно ссылаться на метод в классе, над которым создан консольный класс-оболочка, можно реализовать метод в классе консоли и ссылаться на него, а можно заполнить поле **action** анонимной лямбда-функцией)

Необязательные поля описывают логику функции в поле **action**
- **arg_types** хранит типы принимаемых функцией аргументов (их количество соответствующее)
- **accepts_varargs** если True, то последний тип из **arg_types** применяется ко всем "выходящим за пределы" аргументам. Применяется, когда функция использует аргументы переменной длины, например: sum_func(*numbers: int)
- **accepts_optional_args** если True, то не происходит жёсткой привязки к количеству переданных аргументов, например: create_array(cols: int, rows: int = 1), или если функция внутри себя имеет логику обработки количества переданных аргументов
- **usage** содержит лаконичное описание использования для пользователя, например: "sum [param_1] ... [param_N] <int_1> ... <int_N>"
- **params** хранит словарь, ключами которого являются "имена" параметров (например, -p, -n, -sort), а значения - объекты класса Param

Метод *execute* вызывается из класса ConsoleManager и выполняет функцию из поля **action**. Перед выполнением функции происходит проверка корректности ввода, приведение типов для переданных аргументов, выполнение функций переданных параметров
## Параметр (класс Param)
Обязательные поля: **description**, **action**
- **description** содержит текстовое описание работы параметра
- **action** хранит ссылку на вызываемую функцию

Необязательные поля:
- **modify** если False, то параметр не будет изменять аргументы, передаваемые в функцию команды (например, осуществит вывод в консоль)
- **execute_command_action** запрет на выполнение функции команды. Возможное применение: print item -> выводит значение некоторого item, print -all -> выводит значения для всех элементов (выполнять функцию команды после этого точно не нужно)
- **return_result** если True, то результат выполнения функции параметра будет выведен в консоль (выполнение остальных функций не прервётся, результат будет выведен после полного выполнения функций всех введённых параметров и функции команды)
- **use_command_args** True, если функция параметра принимает на вход аргументы, передаваемые в функцию команды (аргументы команды)
- **arg_types** хранит типы принимаемых функцией аргументов (их количество соответствующее)
- **usage** содержит лаконичное описание использования для пользователя (например, "-lb <lower bound>", "-b <lower bound> <upper bound>")

# Пример использования
В модуле *logic/console_superstructure* находится пример использования консольного менеджера, класс ConsoleMathFuncs.

ConsoleMathFuncs является "надстройкой" или классом-оболочкой для класса MathFuncs из модуля *logic* и содержит поле *original* со ссылкой на объект класса MathFuncs. В нём реализована команда *sum* со значением поля *action=self.original.sum_func*. Также добавлены некоторые параметры

Для тестирования примера нужно запустить файл *main.py* из корня проекта